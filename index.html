<head>
  <meta charset='utf-8' />
  <title>Bus Shelters Mapping Project</title>
  <meta name='viewport' content='initial-scale=1,maximum-scale=1,user-scalable=no' />

  <!-- CSS Imports -->
  <link rel="stylesheet" href="css/leaflet.css" />
  <link rel="stylesheet" href="css/style.css" />

  <!-- Import mapbox style -->
  <script src='https://api.tiles.mapbox.com/mapbox-gl-js/v0.31.0/mapbox-gl.js'></script>
  <link href='https://api.tiles.mapbox.com/mapbox-gl-js/v0.31.0/mapbox-gl.css' rel='stylesheet' />
  <style>
  </style>
</head>

<script>
var searchScript = function() {
  var input = parseInt($( "input[id=number-input1]").val()); //.toUpperCase(
  var same = _.where(allStops, {Stopid: input});
  if (event.keyCode === 13) {
    var latLngs = [ same[0].Latitude, same[0].Longitude];
    map.panTo(latLngs);
    map.setZoom(18);
    // any way to open the pop up here?
  }
  return same;
}
</script>

<body>
  <div class = "sidebar">
    <h1> Bus Shelter Mapping Project </h1>
    <p> T. Andrew Simpson </p>
    <p> Other work: <a href="https://www.tandrewsimpson.com">www.tandrewsimpson.com</a> </p>
    <p> Permanent Link: <a href="https://tsimps.github.io">https://tsimps.github.io</a> </p>
    <p> Visualizes SEPTA Bus Stations by Ridership and Presence of a Shelter.
        Built using Automated Passenger Count data, wrangled and analyzed in R,
        exported to JSON and mapped used the Leaflet javascript library.
        User can search by Stop ID and change basemap layer as well as toggle
        Indego stations on and off. </p>
    <h3> <label id="number-label1" for="number-input1">Search by Stop ID:</label>
    <input id="number-input1" class="input-number" style = "height: 24px; width: 250px" type="number" placeholder="Enter Stop ID then press 'enter'" value="" enabled onkeyup="searchScript()"> </>
    <h3> Legend </h3>
    <p> [Image Placeholder] </p>
    <p> Purple: New Shelter
    <br> Pink: Replaced Shelter
    <br> Green: Existing Shelter
    <br> Grey: No Shelter </p>
    <p>Size is Relative to Ridership </p>
  </div>


  <div class = "map" id='map'></div>


  <!-- Javascript Imports Here -->
  <script src="js/leaflet.js"></script>
  <script src="js/leaflet.ajax.js"></script>
  <script src="js/underscore.js"></script>
  <script src="js/jquery-2.2.0.js"></script>
  <script src="data/compressed.js"></script>
  <script src="js/main.js"></script>
</body>
</html>
